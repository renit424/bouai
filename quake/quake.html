<!DOCTYPE html>
<html>
<head>
  <title>地震情報</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="quake.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"></script>
  <script type="text/javascript" src="https://api.renitapps.com/quake.php"></script>
  <script>
  function init() {
    const url = 'https://api.renitapps.com/quake.php';
    //const url = 'https://bousai.renitapps.com/quake/test/20180906Hokkaido.json';
    //const url = 'quake2.json';
    const url2 = 'stations.json';
    fetch(url).then(function (response) {
      return response.json();
    }).then(function (json) {
        fetch(url2).then(function (response) {
          return response.json();
        }).then(function (json2) {
          var issue = json[0].issue.type; 
          if (issue == "ScalePrompt"){
          }
          else if (issue == "Destination"){
          
          }
          else if (issue == "ScaleAndDestination"){
          
          }
          else if (issue == "DetailScale"){
          
          }
          else if (issue == "Foreign"){
		  // SCRIPTタグの生成
var el = document.createElement("script");
 
// SCRIPTタグのSRC属性に読み込みたいファイルを指定
el.src = "/quake/type/Foreign.js";
 
// BODY要素の最後に追加
document.body.appendChild(el);
          }
          else if (issue == "Other"){
          
          }
          else{}
       });
     });
  }
</script>
</head>
<body onload="init()">
  <div id="map" class="max"></div>
  <div class="infopanel"><a id="info"></a> </div>
</body>
</html>
